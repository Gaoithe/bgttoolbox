<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" 
  "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1"
     xmlns="http://www.w3.org/2000/svg"
     xmlns:xlink="http://www.w3.org/1999/xlink"
     width="6cm" height="12cm" 
     viewBox="-2 1 5.4 5">
     
<!--  Compass baseplate and dial TODO: needle
      And experimenting with rotating, animating. -->

<defs>

    <text id="vane0text" font-size="0.3">N</text>
    <text id="vane90text" font-size="0.3">E</text>
    <text id="vane180text" font-size="0.3">S</text>
    <text id="vane270text" font-size="0.3">W</text>
    <text id="vane0textD" font-size="0.3">0°</text>
    <text id="vane90textD" font-size="0.3">90°</text>
    <text id="vane180textD" font-size="0.3">180°</text>
    <text id="vane270textD" font-size="0.3">270°</text>
    <text id="vane0textDD" font-size="0.3">North 0°</text>
    <text id="vane90textDD" font-size="0.3">East 90°</text>
    <text id="vane180textDD" font-size="0.3">South 180°</text>
    <text id="vane270textDD" font-size="0.3">West 270°</text>

    <!-- dial lines -->
    <line id="dial1line" x1="0" y1="1.75" x2="0" y2="2.4" stroke="#005000" stroke-width="0.02"/>
    <line id="dial2line" x1="0" y1="1.75" x2="0" y2="2.4" stroke="#005000" stroke-width="0.01"/>
    <g id="diallinesx4">
        <line x1="0" y1="1.75" x2="0" y2="2.4"  stroke="#005000" stroke-width="0.02"/>
        <line x1="0" y1="-1.75" x2="0" y2="-2.4"  stroke="#005000" stroke-width="0.02"/>
        <line y1="0" x1="1.75" y2="0" x2="2.4"  stroke="#005000" stroke-width="0.02"/>
        <line y1="0" x1="-1.75" y2="0" x2="-2.4"  stroke="#005000" stroke-width="0.02"/>
    </g>
    <g id="dialBGlines">
        <!-- north red -->
        <line x1="0.2"  y1="0" x2="0.2"  y2="1.5"  stroke="#FF0000" stroke-width="0.025"/>
        <line x1="-0.2" y1="0" x2="-0.2" y2="1.5"  stroke="#FF0000" stroke-width="0.025"/>
        <line x1="0.6"  y1="0" x2="0.6"  y2="1.4"  stroke="#FF0000" stroke-width="0.02"/>
        <line x1="-0.6" y1="0" x2="-0.6" y2="1.4"  stroke="#FF0000" stroke-width="0.02"/>
        <line x1="1"    y1="0" x2="1"    y2="1.0"  stroke="#FF0000" stroke-width="0.02"/>
        <line x1="-1"   y1="0" x2="-1"   y2="1.0"  stroke="#FF0000" stroke-width="0.02"/>
        <line x1="1.4"  y1="0" x2="1.4"  y2="0.4"  stroke="#FF0000" stroke-width="0.02"/>
        <line x1="-1.4" y1="0" x2="-1.4" y2="0.4"  stroke="#FF0000" stroke-width="0.02"/>
        <!-- north red chevrons/arrow -->
        <line x1="0" y1="1.7" x2="0.3"  y2="1.4"  stroke="#FF0000" stroke-width="0.025"/>
        <line x1="0" y1="1.7" x2="-0.3" y2="1.4"  stroke="#FF0000" stroke-width="0.025"/>
        <line x1="0" y1="1.5" x2="0.2"  y2="1.3"  stroke="#FF0000" stroke-width="0.02"/>
        <line x1="0" y1="1.5" x2="-0.2" y2="1.3"  stroke="#FF0000" stroke-width="0.02"/>
        <line x1="0" y1="1.3" x2="0.2"  y2="1.1"  stroke="#FF0000" stroke-width="0.02"/>
        <line x1="0" y1="1.3" x2="-0.2" y2="1.1"  stroke="#FF0000" stroke-width="0.02"/>
        <line x1="0" y1="1.1" x2="0.2"  y2="0.9"  stroke="#FF0000" stroke-width="0.02"/>
        <line x1="0" y1="1.1" x2="-0.2" y2="0.9"  stroke="#FF0000" stroke-width="0.02"/>
        <line x1="0" y1="0.9" x2="0.2"  y2="0.7"  stroke="#FF0000" stroke-width="0.02"/>
        <line x1="0" y1="0.9" x2="-0.2" y2="0.7"  stroke="#FF0000" stroke-width="0.02"/>
        <!-- south black -->
        <line x1="0.2"  y1="0" x2="0.2"  y2="-1.7"  stroke="#000000" stroke-width="0.025"/>
        <line x1="-0.2" y1="0" x2="-0.2" y2="-1.7"  stroke="#000000" stroke-width="0.025"/>
        <line x1="0.6"  y1="0" x2="0.6"  y2="-1.4"  stroke="#000000" stroke-width="0.02"/>
        <line x1="-0.6" y1="0" x2="-0.6" y2="-1.4"  stroke="#000000" stroke-width="0.02"/>
        <line x1="1"    y1="0" x2="1"    y2="-1.0"  stroke="#000000" stroke-width="0.02"/>
        <line x1="-1"   y1="0" x2="-1"   y2="-1.0"  stroke="#000000" stroke-width="0.02"/>
        <line x1="1.4"  y1="0" x2="1.4"  y2="-0.4"  stroke="#000000" stroke-width="0.02"/>
        <line x1="-1.4" y1="0" x2="-1.4" y2="-0.4"  stroke="#000000" stroke-width="0.02"/>
    </g>

    <!-- orienteering type symbols -->
    <circle id="Ostart" cx="0" cy="0" r="0.2" stroke="#F000FF" stroke-width="0.02" fill="none"/>
    <polygon id="Ocontrol" points="0,0 0.4,0 0.2,-0.35 0,0"
               stroke="#F000FF" stroke-width="0.02" fill="none"/>

    <polygon id="vane" points="0,0 0.5,0.1 1.5,0 0.5,-0.1"
               fill="rgb(225,200,200)" stroke="rgb(150,100,100)" stroke-width="0.015"/>
    <polygon id="vane2" points="0,0 0.4,0.2 1.2,0 0.4,-0.2"
               fill="rgb(225,200,200)" stroke="rgb(150,100,100)" stroke-width="0.015"/>
    <polygon id="vane3" points="0,0 0.35,0.15 1.0,0 0.35,-0.15"
               fill="rgb(225,200,200)" stroke="rgb(150,100,100)" stroke-width="0.015"/>
               
    <g id="compass">  <!-- A compass with baseplate and independently rotating dial and needle. -->
        <!-- baseplate 0,0 is mid bottom of baseplate -->
        <!-- <rect x="-2.5" y="0" width="5" height="8" fill="#EEEEEE" fill-opacity="0.17" stroke="#000000" stroke-width="0.02"/> -->
        <rect x="-2.5" y="-2.5" width="5" height="8" fill="#EEEEEE" fill-opacity="0.7" stroke="#000000" stroke-width="0.02"/>
        <!-- lens -->
        <circle cx="0" cy="-0.6" r="0.8" stroke="#505050" stroke-width="0.1" fill="#f0f0f0" fill-opacity="0.1"/>
        <!-- centre and side guiding lines -->
        <line x1="0" y1="-2.4" x2="0" y2="-1.4"  stroke="#0050FF" stroke-width="0.02"/>
        <line x1="0" y1="0.3" x2="0" y2="0.5"  stroke="#0050FF" stroke-width="0.02"/>

	<!-- dial 0,3 is middle of dial - dial circles  -->
        <circle cx="0" cy="3" r="1.75" stroke="#005000" stroke-width="0.02" fill="none"/>
        <circle cx="0" cy="3" r="2.08" stroke="#005000" stroke-width="0.02" fill="none"/>
        <circle cx="0" cy="3" r="2.4" stroke="#005000" stroke-width="0.02" fill="none"/>
        <!-- lines top to bottom of dial (on plate) 
         <circle cx="0" cy="3" r="2.7" stroke="#005000" stroke-width="0.02" fill="none"/>
         <line x1="0" y1="5.7" x2="0" y2="0.3"  stroke="#0050FF" stroke-width="0.02"/>
         <line x1="4.75" y1="0" x2="5.4" y2="0"  stroke="#FF00FF" stroke-width="0.02"/>
         -->
         
        <!-- pointers and dial text -->
        <g transform="translate(0,3)">
            <g transform="rotate(0)">  <!-- The set all parts of dial that rotate - base lines/arrow, dial text and lines -->
                <animateTransform attributeName="transform" attributeType="XML"
                            type="rotate" from="360" to="0" dur="7s" 
                            fill="remove" repeatCount="indefinite"/>   
                <!-- dial background pointer and lines -->
                <!-- <use xlink:href="#vane"/> -->
                <use xlink:href="#dialBGlines"/>
                <circle cx="0.255" cy="1" r="0.05" fill="#FFFF00" id="glowdial1"/>
                <circle cx="-0.255" cy="1" r="0.05" fill="#FFFF00" id="glowdial2"/>
                <!-- dial text -->
                <use xlink:href="#vane0text" transform="translate(0,2)"/>
                <use xlink:href="#vane0textD" transform="translate(0,2.3)"/>
                <use xlink:href="#vane90text" transform="rotate(90),translate(0,2)"/>
                <use xlink:href="#vane180text" transform="rotate(180),translate(0,2)"/>
                <use xlink:href="#vane270text" transform="rotate(270),translate(0,2)"/>
		<!-- dial lines rotate, line order:NSWE -->
                <use xlink:href="#diallinesx4"/>
		<!-- dial smaller lines -->
                <use xlink:href="#diallinesx4" transform="rotate(22.5)"/>
                <use xlink:href="#diallinesx4" transform="rotate(45)"/>
                <use xlink:href="#diallinesx4" transform="rotate(67.5)"/>
            </g>
        </g>

	<!-- needle after(on top of) and in middle of dial, but moves separately -->
        <g transform="translate(0,3)">
            <g transform="rotate(0)">  <!-- The set all parts of dial that rotate - base lines/arrow, dial text and lines -->
                <animateTransform attributeName="transform" attributeType="XML"
                            type="rotate" from="360" to="0" dur="12s" 
                            fill="remove" repeatCount="indefinite"/>   
                <rect x="-0.05" y="0" width="0.1" height="1.6" fill="#EE0000" id="northneedle"/>
                <rect x="-0.035" y="1.2" width="0.07" height="0.3" fill="#FFFF00" id="glow"/>
                <rect x="-0.05" y="-1.6" width="0.1" height="1.6" fill="#FEFEFE" id="southneedle"/>
                <circle cx="0" cy="0" r="0.1" fill="#005000"/>
                <circle cx="0" cy="0" r="0.02" fill="#DDDDDD"/>
            </g>
        </g>

    </g>

</defs>


<g transform="translate(-3,5) scale(1,1)">
    <!-- background for judging opacity -->
    <!-- <rect x="0" y="-1" width="7" height="5" fill="rgb(220,230,255)"/>
         <rect x="0" y="-1" width="5.5" height="8.5" fill="rgb(220,230,255)"/>
         <rect x="2" y="-5" width="5" height="6.5" fill="rgb(220,0,255)"/>
         1 is left of base ? y=-6 is above top (after the translate(3.7,-3))
      -->
    <rect x="1" y="-6" width="7" height="8.5" fill="rgb(220,230,255)"/>
    <!-- orienteering type symbols -->
    <use xlink:href="#Ostart" transform="translate(2,-5)"/>
    <use xlink:href="#Ocontrol" transform="translate(3.9,-5.3)"/>
    <use xlink:href="#Ocontrol" transform="translate(2.7,-3.7)"/>
    <use xlink:href="#Ocontrol" transform="translate(5,-3)"/>

    <!-- draw the main thing -->
    <use xlink:href="#compass" transform="translate(3.7,-3)"/>

    <!--
    <use xlink:href="#compass" transform="translate(3.7,-0.8) scale(0.7,0.7)"/>
    <use xlink:href="#compass" transform="translate(3.7,-1.2)"/>
     -->
     
</g>

</svg>

